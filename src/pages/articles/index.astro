---
import Layout from '../../layouts/Layout.astro';
import ArticleCard from '../../components/ArticleCard.astro';
import { getAllArticles } from '../../data/articles';
import yarnchoice from '../../assets/images/yarnchoice.png';
import article2 from '../../assets/images/article2.png';
import article3 from '../../assets/images/article3.png';

const articles = getAllArticles();
const base = import.meta.env.BASE_URL;
const imageMap: Record<string, string> = {
	yarnchoice: yarnchoice.src,
	article2: article2.src,
	article3: article3.src,
};
---

<Layout title="The Journal | KTCA">
	<main class="pt-16 sm:pt-20 lg:pt-24 pb-20 sm:pb-24 lg:pb-32 px-4 sm:px-6 lg:px-8 overflow-hidden">
		<div class="max-w-7xl mx-auto">
			<div class="flex flex-col items-center mb-16 text-center">
				<span class="text-white uppercase tracking-widest text-xs font-bold mb-4 bg-teal-custom-900 px-6 py-2 rounded-full shadow-md">The Journal</span>
				<h1 class="font-serif text-4xl md:text-5xl text-stone-custom-900 font-semibold">Guidance &amp; Techniques</h1>
				<p class="text-stone-custom-600 mt-4 max-w-2xl">Practical advice for knitting with purposeâ€”from materials to techniques and adaptations.</p>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-3 gap-10">
				{articles.map((article) => {
					const imgSrc = article.imageUrl ?? (article.imageKey && imageMap[article.imageKey] ? imageMap[article.imageKey] : '');
					return (
						<ArticleCard article={article} imageSrc={imgSrc} baseUrl={base} />
					);
				})}
			</div>
		</div>
	</main>
</Layout>
